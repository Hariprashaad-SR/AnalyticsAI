:root { --text:#fff; --text-dim:#a0a0a0; --border:#333; --sb-w:48px; --sb-w-open:268px; }
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Archivo',sans-serif;background:#000;color:#fff;min-height:100vh;overflow-x:hidden}
.mono{font-family:'DM Mono',monospace}

/* ── Background ── */
.grid-bg{position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);background-size:50px 50px;opacity:.2;animation:gridMove 20s linear infinite;pointer-events:none;z-index:0}
@keyframes gridMove{to{transform:translate(50px,50px)}}
.orb{position:fixed;border-radius:50%;filter:blur(80px);opacity:.15;pointer-events:none;z-index:0}
.orb-1{width:400px;height:400px;background:#fff;top:-100px;right:-100px;animation:floatOrb 15s ease-in-out infinite}
.orb-2{width:300px;height:300px;background:#fff;bottom:-50px;left:-50px;animation:floatOrb 12s ease-in-out infinite reverse}
@keyframes floatOrb{0%,100%{transform:translate(0,0) scale(1)}50%{transform:translate(30px,-30px) scale(1.1)}}

/* ── Buttons ── */
.btn{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;border:none;font-size:.95rem;font-family:'Archivo',sans-serif}
.btn-primary{background:#fff;color:#000}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(255,255,255,.3)}
.btn-secondary{background:rgba(45,45,45,.8);color:#fff;border:1px solid var(--border)}
.btn-secondary:hover{background:rgba(45,45,45,1);border-color:#fff}
.btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important}

/* ── Spinner ── */
.loading{display:inline-block;width:16px;height:16px;border:2px solid var(--border);border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ── Scrollbar ── */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:rgba(45,45,45,.3)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:#666}

/* ═══ SIDEBAR ═══ */
.sidebar{position:fixed;left:0;top:0;bottom:0;z-index:45;width:var(--sb-w);background:rgba(6,6,6,.97);border-right:1px solid var(--border);backdrop-filter:blur(16px);transition:width .3s cubic-bezier(.4,0,.2,1);overflow:hidden;display:flex;flex-direction:column}
.sidebar.open{width:var(--sb-w-open)}
.sb-toggle{position:absolute;right:0;top:50%;transform:translateY(-50%);width:20px;height:48px;background:rgba(30,30,30,.9);border:1px solid var(--border);border-left:none;border-radius:0 8px 8px 0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--text-dim);font-size:.65rem;transition:color .2s,background .2s;z-index:1}
.sb-toggle:hover{color:#fff;background:rgba(50,50,50,1)}
.sb-inner{display:flex;flex-direction:column;height:100%;width:var(--sb-w-open);min-width:var(--sb-w-open);opacity:0;transition:opacity .2s ease;pointer-events:none}
.sidebar.open .sb-inner{opacity:1;pointer-events:auto;transition-delay:.1s}
.sb-header{padding:1.1rem 1rem .75rem;border-bottom:1px solid var(--border);margin-top:56px;display:flex;align-items:center;justify-content:space-between}
.sb-title{font-family:'DM Mono',monospace;font-size:.68rem;font-weight:500;letter-spacing:.12em;text-transform:uppercase;color:var(--text-dim)}
.sb-new-btn{background:none;border:1px solid var(--border);border-radius:6px;color:var(--text-dim);font-size:.7rem;cursor:pointer;padding:.2rem .5rem;font-family:'DM Mono',monospace;transition:all .15s}
.sb-new-btn:hover{color:#fff;border-color:#fff}
.sb-list{flex:1;overflow-y:auto;padding:.5rem 0}
.sb-empty{padding:1.5rem 1rem;font-family:'DM Mono',monospace;font-size:.72rem;color:var(--text-dim);text-align:center;line-height:1.7}
.sb-item{display:flex;align-items:flex-start;gap:.6rem;padding:.65rem 1rem;cursor:pointer;border-bottom:1px solid rgba(255,255,255,.04);transition:background .15s;border-left:2px solid transparent}
.sb-item:hover{background:rgba(255,255,255,.04)}
.sb-item.active{background:rgba(255,255,255,.07);border-left-color:#fff}
.sb-item-icon{flex-shrink:0;width:28px;height:28px;background:rgba(40,40,40,.9);border:1px solid var(--border);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.8rem}
.sb-item-body{flex:1;min-width:0}
.sb-item-name{font-size:.8rem;font-weight:500;color:#e0e0e0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sb-item-meta{font-family:'DM Mono',monospace;font-size:.66rem;color:var(--text-dim);margin-top:.2rem}
.sb-item-badge{display:inline-block;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);border-radius:4px;padding:0 5px;font-size:.6rem;font-family:'DM Mono',monospace;color:var(--text-dim);line-height:1.6;vertical-align:middle;margin-right:4px}

/* ── Layout shifts ── */
.has-sidebar .top-nav,.has-sidebar .main-content{margin-left:var(--sb-w);transition:margin-left .3s cubic-bezier(.4,0,.2,1)}
.has-sidebar.sb-open .top-nav,.has-sidebar.sb-open .main-content{margin-left:var(--sb-w-open)}

/* ═══ NAV ═══ */
.top-nav{position:fixed;top:0;left:0;right:0;z-index:50;display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;background:rgba(0,0,0,.7);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);transition:margin-left .3s cubic-bezier(.4,0,.2,1)}
.nav-logo{font-size:1.3rem;font-weight:700;color:#fff;letter-spacing:-.01em}
.nav-actions{display:flex;align-items:center;gap:.75rem}
.nav-user{font-size:.82rem;color:var(--text-dim);font-family:'DM Mono',monospace}
.nav-avatar{width:30px;height:30px;border-radius:50%;object-fit:cover;border:1px solid var(--border)}

/* ═══ LANDING ═══ */
.landing-screen{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}
.landing-hero{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8rem 2rem 4rem;max-width:800px;margin:0 auto;width:100%}
.hero-badge{display:inline-block;font-family:'DM Mono',monospace;font-size:.72rem;letter-spacing:.14em;color:var(--text-dim);text-transform:uppercase;border:1px solid var(--border);border-radius:999px;padding:.35rem 1.1rem;margin-bottom:2.5rem;animation:fadeUp .6s ease .1s both}
.hero-title{font-size:clamp(3rem,7vw,5.5rem);font-weight:700;line-height:1.05;letter-spacing:-.03em;color:#fff;margin-bottom:1.75rem;animation:fadeUp .6s ease .25s both}
.hero-title em{font-style:normal;color:var(--text-dim)}
.hero-sub{font-size:1.1rem;color:var(--text-dim);line-height:1.75;max-width:520px;margin:0 auto 2.5rem;animation:fadeUp .6s ease .4s both}
.hero-cta-row{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;animation:fadeUp .6s ease .55s both}
.hero-cta-row .btn{padding:.9rem 2.2rem;font-size:1rem}
.feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem;padding:2rem 2rem 5rem;max-width:1100px;margin:0 auto;width:100%;animation:fadeUp .6s ease .7s both}
.feature-card{background:rgba(20,20,20,.7);border:1px solid var(--border);border-radius:14px;padding:1.75rem;transition:all .25s ease}
.feature-card:hover{border-color:rgba(255,255,255,.2);transform:translateY(-4px);background:rgba(30,30,30,.8)}
.feature-icon{font-size:1.8rem;margin-bottom:.9rem}
.feature-card h3{font-size:.95rem;font-weight:600;color:#fff;margin-bottom:.5rem}
.feature-card p{font-size:.85rem;color:var(--text-dim);line-height:1.6}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ═══ HOME ═══ */
.home-screen{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:6rem 2rem 4rem}
.home-greeting{font-family:'DM Mono',monospace;font-size:.8rem;letter-spacing:.1em;color:var(--text-dim);text-transform:uppercase;margin-bottom:1.5rem;animation:fadeUp .5s ease both}
.home-title{font-size:clamp(2.8rem,6vw,4.5rem);font-weight:700;line-height:1.1;letter-spacing:-.03em;color:#fff;margin-bottom:1rem;animation:fadeUp .5s ease .1s both}
.home-title span{background:linear-gradient(135deg,#fff 30%,#555 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.home-sub{font-size:1rem;color:var(--text-dim);max-width:420px;line-height:1.7;margin-bottom:3rem;animation:fadeUp .5s ease .2s both}
.home-start-btn{display:inline-flex;align-items:center;gap:.6rem;font-size:1.1rem;padding:1rem 2.8rem;border-radius:12px;box-shadow:0 0 50px rgba(255,255,255,.12);animation:fadeUp .5s ease .3s both}
.home-start-btn:hover{transform:translateY(-3px);box-shadow:0 16px 48px rgba(255,255,255,.25)}
.home-pills{display:flex;align-items:center;gap:1.5rem;margin-top:3.5rem;padding:1rem 2rem;background:rgba(20,20,20,.7);border:1px solid var(--border);border-radius:14px;animation:fadeUp .5s ease .4s both}
.home-pill{text-align:center}
.home-pill-label{font-family:'DM Mono',monospace;font-size:1rem;font-weight:500;color:#fff}
.home-pill-sub{font-size:.7rem;color:var(--text-dim);letter-spacing:.05em}
.home-pill-sep{width:1px;height:28px;background:var(--border)}

/* ═══ UPLOAD ═══ */
.upload-screen{position:relative;z-index:1;padding-top:80px}
.page-container{max-width:1200px;margin:0 auto;padding:2rem}
.page-header{text-align:center;margin-bottom:3rem;padding-top:2rem}
.page-logo{font-size:2.5rem;font-weight:700;color:#fff;margin-bottom:.5rem}
.page-tagline{color:var(--text-dim);font-size:1rem;font-family:'DM Mono',monospace}
.upload-zone{background:rgba(26,26,26,.6);backdrop-filter:blur(10px);border:2px dashed var(--border);border-radius:16px;padding:4rem;text-align:center;transition:all .3s ease}
.upload-zone.dragover,.upload-zone:hover{border-color:#fff;background:rgba(26,26,26,.8);transform:translateY(-2px)}
.upload-zone h2{font-size:1.5rem;font-weight:600;margin-bottom:.75rem}
.upload-zone>p{color:var(--text-dim);margin-bottom:1.5rem}
.upload-divider{margin:1.5rem 0;color:var(--text-dim)}
.upload-status{margin-top:1rem;padding:1rem;border-radius:.5rem;text-align:center}
.db-input{width:100%;background:rgba(26,26,26,.8);border:1px solid var(--border);color:#fff;padding:.75rem 1rem;border-radius:8px;font-family:'Archivo',sans-serif;font-size:.95rem;margin-bottom:1rem;transition:border-color .2s}
.db-input:focus{outline:none;border-color:#fff}
.db-input::placeholder{color:var(--text-dim)}

/* ═══ CHAT ═══ */
.chat-screen{position:relative;z-index:1;padding-top:80px}
.chat-wrapper{height:calc(100vh - 180px)}
.chat-main{display:flex;flex-direction:column;height:100%;background:rgba(26,26,26,.4);backdrop-filter:blur(10px);border-radius:16px;border:1px solid var(--border);overflow:hidden}
.chat-header{padding:1.5rem;border-bottom:1px solid var(--border);background:rgba(10,10,10,.4)}
.chat-header-inner{display:flex;justify-content:space-between;align-items:center}
.chat-source-label{font-size:.875rem;color:var(--text-dim)}
.chat-source-value{font-size:.875rem;font-family:'DM Mono',monospace;word-break:break-all}
.chat-messages{flex:1;overflow-y:auto;padding:2rem;display:flex;flex-direction:column;gap:1.5rem}
.chat-empty{text-align:center;color:var(--text-dim);padding:2rem 0}
.chat-empty-title{font-size:1.125rem;margin-bottom:.5rem}
.chat-empty-sub{font-size:.875rem}
.message{padding:1.25rem;border-radius:12px;max-width:85%;animation:slideIn .3s ease}
@keyframes slideIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.message-user{background:#fff;color:#000;margin-left:auto;font-weight:500}
.message-assistant{background:rgba(45,45,45,.8);border:1px solid var(--border)}
.chat-input-area{padding:1.5rem;border-top:1px solid var(--border);background:rgba(10,10,10,.6)}
.chat-input-form{display:flex;gap:.75rem}
.chat-input{flex:1;background:rgba(26,26,26,.8);border:1px solid var(--border);color:#fff;padding:1rem 1.5rem;border-radius:12px;font-size:.95rem;transition:all .2s ease;font-family:'Archivo',sans-serif}
.chat-input:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px rgba(255,255,255,.1)}
.chat-input::placeholder{color:var(--text-dim)}

/* ── Results ── */
.result-filter{width:100%;padding:.5rem .75rem;background:rgba(31,41,55,.9);border:1px solid rgba(55,65,81,1);border-radius:6px;color:#e5e7eb;font-family:'Archivo',sans-serif;margin-bottom:.75rem}
.result-filter::placeholder{color:rgba(156,163,175,1)}
.result-filter:focus{outline:none}
.result-table-scroll{overflow-x:auto}
.result-table{min-width:100%;border:1px solid rgba(55,65,81,1);border-radius:8px;border-collapse:collapse}
.result-table thead th{padding:.5rem 1rem;text-align:left;border-bottom:1px solid rgba(55,65,81,1);color:rgba(209,213,219,1);background:rgba(31,41,55,.9);font-weight:600;font-size:.75rem;text-transform:uppercase}
.result-table tbody tr:hover{background:rgba(17,24,39,.9)}
.result-table tbody td{padding:.5rem 1rem;border-bottom:1px solid rgba(31,41,55,.9);color:rgba(229,231,235,1);font-size:.875rem}
.result-text-box{background:rgba(17,24,39,.9);padding:1rem;border-radius:8px;margin-top:.75rem;color:rgba(209,213,219,1);line-height:1.625}
.result-report-box{background:transparent;padding:1rem;border-radius:6px;color:rgba(209,213,219,1);line-height:1.625;border-left:3px solid var(--border)}
.result-report-box h1,.result-report-box h2,.result-report-box h3,.result-report-box h4{color:#fff;margin-top:1rem;margin-bottom:.5rem}
.result-report-box h1{font-size:1.5rem}
.result-report-box h2{font-size:1.25rem}
.result-report-box h3{font-size:1.1rem}
.result-report-box h4{font-size:1rem}
.result-report-box p{margin-bottom:.75rem}
.result-report-box ul,.result-report-box ol{margin-left:1.5rem;margin-bottom:.75rem}
.result-report-box li{margin-bottom:.25rem}
.result-report-box table{width:100%;border-collapse:collapse;margin:.75rem 0}
.result-report-box table th,.result-report-box table td{padding:.5rem;border:1px solid rgba(55,65,81,1);text-align:left}
.result-report-box table th{background:rgba(30,30,30,.9);font-weight:600}
.result-report-box strong,.result-report-box b{color:#fff;font-weight:600}
.result-report-box a{color:rgba(96,165,250,1);text-decoration:underline}
.result-report-box a:hover{color:rgba(147,197,253,1)}
.result-report-box code{background:rgba(30,30,30,.9);padding:.2rem .4rem;border-radius:4px;font-family:'DM Mono',monospace;font-size:.875rem}
.result-report-box pre{background:rgba(20,20,20,.9);padding:.75rem;border-radius:6px;overflow-x:auto;margin:.75rem 0}
.result-report-box pre code{background:none;padding:0}
.chart-toggle{margin-top:1rem;border:1px solid rgba(55,65,81,1);border-radius:8px;overflow:hidden}
.chart-toggle-btn{width:100%;display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background:rgba(31,41,55,.9);color:rgba(229,231,235,1);cursor:pointer;transition:background .15s;border:none;font-family:'Archivo',sans-serif;font-size:.875rem}
.chart-toggle-btn:hover{background:rgba(55,65,81,.9)}
.chart-container{background:rgba(17,24,39,.9);padding:.75rem}
.chart-plot{width:100%;height:450px}
.report-toggle{margin-top:1rem;border:1px solid var(--border);border-radius:8px;overflow:hidden}
.report-toggle-btn{width:100%;display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background:rgba(40,40,40,.9);color:rgba(229,231,235,1);cursor:pointer;transition:background .15s;border:none;font-family:'Archivo',sans-serif;font-size:.875rem}
.report-toggle-btn:hover{background:rgba(60,60,60,.9)}
.report-container{background:#000;padding:.75rem}
.followups-section{margin-top:1rem}
.followups-label{color:var(--text-dim);margin-bottom:.5rem;font-size:.875rem}
.followups-pills{display:flex;flex-wrap:wrap;gap:.5rem}
.followup-btn{padding:.375rem .75rem;border-radius:9999px;background:rgba(31,41,55,.9);border:1px solid rgba(55,65,81,1);color:rgba(229,231,235,1);font-size:.875rem;cursor:pointer;transition:background .15s;font-family:'Archivo',sans-serif}
.followup-btn:hover{background:rgba(55,65,81,.9)}

/* ═══ MODALS ═══ */
.modal-backdrop{position:fixed;inset:0;z-index:200;background:rgba(0,0,0,.8);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;padding:1rem;animation:backdropIn .15s ease}
@keyframes backdropIn{from{opacity:0}to{opacity:1}}
.modal-box{position:relative;background:#0d0d0d;border:1px solid #2a2a2a;border-radius:20px;padding:2.5rem;width:100%;max-width:420px;box-shadow:0 32px 80px rgba(0,0,0,.9);animation:modalIn .2s ease}
@keyframes modalIn{from{opacity:0;transform:scale(.96) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:1rem;right:1.25rem;background:none;border:none;color:var(--text-dim);font-size:1.1rem;cursor:pointer;padding:.3rem .5rem;border-radius:6px;transition:all .15s;line-height:1}
.modal-close:hover{color:#fff;background:rgba(255,255,255,.08)}
.modal-title{font-size:1.6rem;font-weight:700;color:#fff;margin-bottom:.3rem}
.modal-sub{font-size:.88rem;color:var(--text-dim);margin-bottom:1.75rem}
.modal-divider{display:flex;align-items:center;gap:1rem;color:var(--text-dim);font-size:.78rem;margin:1.2rem 0}
.modal-divider::before,.modal-divider::after{content:'';flex:1;height:1px;background:var(--border)}
.modal-footer{text-align:center;font-size:.85rem;color:var(--text-dim);margin-top:1.5rem}
.modal-link{background:none;border:none;color:#fff;font-weight:600;cursor:pointer;text-decoration:underline;text-underline-offset:3px;font-size:.85rem;transition:opacity .15s;font-family:'Archivo',sans-serif}
.modal-link:hover{opacity:.7}
.auth-form{display:flex;flex-direction:column;gap:1rem}
.auth-field{display:flex;flex-direction:column;gap:.4rem}
.auth-field label{font-size:.75rem;font-weight:600;color:var(--text-dim);letter-spacing:.06em;text-transform:uppercase}
.auth-field input{background:rgba(20,20,20,.9);border:1px solid var(--border);border-radius:8px;color:#fff;padding:.75rem 1rem;font-size:.95rem;width:100%;transition:border-color .15s,box-shadow .15s;font-family:'Archivo',sans-serif}
.auth-field input:focus{outline:none;border-color:rgba(255,255,255,.45);box-shadow:0 0 0 3px rgba(255,255,255,.06)}
.auth-error{font-size:.83rem;color:#ff6b6b;background:rgba(255,60,60,.1);border:1px solid rgba(255,60,60,.25);border-radius:8px;padding:.6rem .85rem}
.google-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:.7rem;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:8px;color:#fff;padding:.75rem 1rem;font-size:.95rem;font-weight:500;cursor:pointer;transition:background .15s,border-color .15s;font-family:'Archivo',sans-serif}
.google-btn:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.25)}
